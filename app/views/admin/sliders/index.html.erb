<div class="container">
  <%= render partial: "/admin/shared/breadcrum" %>
  <!-- row -->
  <div class="row">
    <div class="col-xl-12 col-12 mb-5">
      <!-- card -->
      <div class="card h-100 card-lg">
        <!-- card body -->
        <div class="card-body p-0">
          <!-- table -->
          <div class="table-responsive">
            <table class="table table-centered table-hover text-nowrap table-borderless mb-0 table-with-checkbox">
              <thead class="bg-light">
                <tr>
                  <th>Position</th>
                  <th>Title</th>
                  <th>Content</th>
                  <th>Button</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <% @sliders.each do |slider| %>
                  <tr>
                    <td><%= slider.position %></td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="me-3">
                          <% if slider.image.attached? %>
                            <%= image_tag slider.image, class: 'rounded', style: 'width: 50px; height: 50px; object-fit: cover;' %>
                          <% else %>
                            <div class="bg-light rounded" style="width: 50px; height: 50px;"></div>
                          <% end %>
                        </div>
                        <div>
                          <h6 class="mb-0"><%= slider.title %></h6>
                        </div>
                      </div>
                    </td>
                    <td><%= truncate(slider.content, length: 50) %></td>
                    <td>
                      <% if slider.button_text.present? %>
                        <span class="badge bg-light-primary text-dark-primary">
                          <%= slider.button_text %>
                        </span>
                      <% else %>
                        <span class="badge bg-light-secondary text-dark-secondary">No Button</span>
                      <% end %>
                    </td>
                    <td>
                      <% if slider.active? %>
                        <span class="badge bg-success">Active</span>
                      <% else %>
                        <span class="badge bg-secondary">Inactive</span>
                      <% end %>
                    </td>
                    <td>
                      <div class="d-flex gap-2">
                        <%= link_to edit_admin_slider_path(slider), class: "btn btn-primary" do %>
                          <i class="bi bi-pencil"></i> Edit
                        <% end %>
                        <%= link_to admin_slider_path(slider), 
                            class: "btn btn-danger",
                            data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this slider?" } do %>
                          <i class="bi bi-trash"></i> Delete
                        <% end %>
                      </div>
                    </td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
